<div class="cambiar-plan-root">

  <section class="cards-row">
    <div class="plan-card"
         *ngFor="let plan of planes"
         [class.highlight]="esPlanActual(plan)">

      <div class="plan-ribbon" [class.green]="plan.precio === 0">
        {{ plan.precio === 0 ? 'GRATIS' : 'PREMIUM' }}
      </div>

      <div class="plan-body">
        <div class="plan-title">{{ plan.nombre }}</div>
        <div class="plan-subtitle">{{ plan.descripcion }}</div>

        <div class="plan-price">
          <span *ngIf="plan.precio !== undefined && plan.precio > 0">S/. {{ plan.precio | number:'1.2-2' }}</span>
          <span *ngIf="plan.precio === 0">Gratuito</span>
        </div>

        <ul class="plan-features">
          <li>✓ Recetas básicas para triglicéridos</li>
          <li>✓ Registro manual de alimentos</li>
          <li>✓ Gráfica simple de progreso</li>
          <li *ngIf="plan.precio && plan.precio > 0">✓ Consultas virtuales con nutricionistas</li>
          <li *ngIf="plan.precio && plan.precio > 0">✓ Recetas exclusivas y personalizadas</li>
          <li *ngIf="plan.precio && plan.precio > 0">✓ Soporte personalizado</li>
        </ul>

        <button mat-flat-button
                class="plan-btn"
                [disabled]="esPlanActual(plan) || isProcessing"
                (click)="cambiarAPlan(plan)">
          {{ esPlanActual(plan) ? 'Plan actual' : 'Cambiar Plan' }}
        </button>

        <a class="terms" href="#">Términos y condiciones</a>
      </div>
    </div>
  </section>

  <footer class="payments">
    <div class="label">Métodos de Pago</div>
    <div class="cards">
      <img src="/Images/iconos/metodos-pago.png" alt="Métodos de pago: Visa, Mastercard, Maestro, PayPal, Diners, Amex">
    </div>
    <div class="note">Aceptamos Visa, American Express, Mastercard y Paypal</div>
  </footer>
</div>
