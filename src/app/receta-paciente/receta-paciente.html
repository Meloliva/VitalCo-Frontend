<!-- file: src/app/receta-paciente/receta-paciente.html -->
<div class="search-row">
  <mat-form-field appearance="outline" class="search-field">
    <mat-icon matPrefix class="search-icon">search</mat-icon>
    <input matInput placeholder="buscar" [(ngModel)]="searchQuery" />
  </mat-form-field>
  <button mat-raised-button class="search-btn" (click)="buscar()">Buscar</button>
</div>

<mat-tab-group class="tabs" [(selectedIndex)]="selectedTab" (selectedTabChange)="onTabChange($event)">
  <mat-tab label="Para ti"></mat-tab>
  <mat-tab label="Favoritos"></mat-tab>
  <mat-tab label="Mis recetas del día"></mat-tab>
</mat-tab-group>

<div class="filters-row">
  <div class="filtros-label">Filtros</div>
  <mat-chip-listbox class="chips-wrap" aria-label="Filtros" [(ngModel)]="selectedFilters" (change)="onFiltroChange()">
    <mat-chip-option value="Desayuno">Desayuno</mat-chip-option>
    <mat-chip-option value="Almuerzo">Almuerzo</mat-chip-option>
    <mat-chip-option value="Snack">Snack</mat-chip-option>
    <mat-chip-option value="Cena">Cena</mat-chip-option>
  </mat-chip-listbox>
</div>

<div class="titulo-seccion">
  <h2>Desayunos Saludables para Controlar Triglicéridos</h2>
  <p>Estas recetas han sido elegidas exclusivamente para cumplir tu plan y con los alimentos disponibles en tu cocina</p>
</div>

<div class="recetas-area">
  <div class="recetas-list" *ngIf="recetas.length > 0">
    <mat-card class="receta-card" *ngFor="let receta of recetas">
      <div class="receta-left">
        <div class="receta-titulo">
          <span class="titulo-text">{{ receta.nombre }}</span>
          <mat-icon class="heart" [ngClass]="{ 'favorito': receta.favorito }" (click)="toggleFavorito(receta)">
            {{ receta.favorito ? 'favorite' : 'favorite_border' }}
          </mat-icon>
        </div>
        <div class="receta-desc">{{ receta.descripcion }}</div>
      </div>

      <div class="receta-right">
        <button mat-stroked-button class="ver-btn" (click)="verReceta(receta)">Ver Receta</button>
      </div>
    </mat-card>
  </div>

  <div class="no-recetas" *ngIf="recetas.length === 0">
    <p>No hay recetas disponibles</p>
  </div>
</div>

<div class="paginator-row">
  <mat-paginator
    [length]="totalRecetas"
    [pageSize]="pageSize"
    [pageSizeOptions]="[3,5,10]"
    (page)="onPageChange($event)"
    showFirstLastButtons>
  </mat-paginator>
</div>
